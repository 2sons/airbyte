documentationUrl: https://docsurl.com
connectionSpecification:
  $schema: http://json-schema.org/draft-07/schema#
  title: Dbt Duckdb Spec
  type: object
  required:
    - dbt_project_path
    - env_var_settings
    - env_var_secrets
  properties:
    dbt_project_path:
      type: string
      description: Path to the dbt project directory.
      order: 1
    profile:
      type: string
      description: >
        Name of the profile to use. If not provided, the default profile will be used.
      order: 2
    env_var_settings:
      type: array
      description: >
        Collection of environment variables to set before running dbt.
        Use this to send non-sensitive information to dbt.
        For sensitive information, please instead use `env_var_secrets`.
      order: 4
      items:
        type: "object"
        required:
          - name
          - value
        properties:
          name:
            type: string
            description: Name of the environment variable.
          value:
            type: string
            description: Value of the environment variable.
    env_var_secrets:
      type: array
      airbyte_secret: true
      order: 5
      description: >
        Collection of environment variable secrets to set before running dbt.
        Use this to send sensitive information to dbt via environment variables.
      items:
        type: "object"
        airbyte_secret: true
        required:
          - name
          - value
        properties:
          name:
            type: string
            description: Name of the environment variable.
          value:
            type: string
            airbyte_secret: true
            description: Value of the environment variable.
    enabled_steps:
      type: object
      description: Path to the dbt project directory.
      order: 6
      required:
        - run
        - test
      properties:
        deps:
          type: boolean
          description: Whether to run the `dbt deps` command.
          order: 1
          default: true
        docs_generate:
          type: boolean
          description: Whether to run the `dbt docs generate` command.
          order: 2
          default: false
        source_freshness:
          type: boolean
          description: Whether to run the `dbt source freshness` command.
          order: 3
          default: false
        seed:
          type: boolean
          description: Whether to run the `dbt seed` command.
          order: 4
          default: true
        snapshot:
          type: boolean
          description: Whether to run the `dbt snapshot` command.
          order: 5
          default: false
        run:
          type: boolean
          description: Whether to run the `dbt run` command.
          order: 6
          default: true
        test:
          type: boolean
          description: Whether to run the `dbt test` command.
          order: 7
          default: true
